<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>D3 Transitions</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style></style>
  </head>

  <body>
    <button id="start">Transition</button>
    <button id="reset">Reset</button>
    <button id="start4">Transition4</button>
    <button id="reset4">Reset4</button>
    <button id="start5">Transition5</button>
    <button id="reset5">Reset5</button>
    <button id="start6">Transition6</button>
    <button id="reset6">Reset6</button>
    <button id="start7">Transition7</button>
    <button id="reset7">Reset7</button>
    <div id="main"></div>
    <script type="text/javascript">
      // Width and height of the SVG object
      let w = 350;
      let h = 175;
      //Make an SVG Container
      var svgContainer = d3
        .select('div#main')
        .append('svg')
        .attr('width', 400)
        .attr('height', 200)
        .style('border-color', 'black')
        .style('border-style', 'solid')
        .style('border-width', '1px');
      // Draw the Rectangle
      var rectangle = svgContainer
        .append('rect')
        .attr('x', 50)
        .attr('y', 50)
        .attr('width', 50)
        .attr('height', 50);

      // Set up the reset button to move it back to 50,50
      d3.select('#start').on('click', function () {
        rectangle
          .transition()
          .attr('x', 250)
          .attr('opacity', 0.5)
          .attr('fill', 'blue');
      });
      d3.select('#reset').on('click', function () {
        rectangle
          .transition()
          .attr('x', 50)
          .attr('y', 50)
          .attr('opacity', 1)
          .attr('fill', 'green');
      });

      d3.select('#start4').on('click', function () {
        rectangle
          .transition()
          .attr('fill', 'red') // New Color (Hex, RGB, or Web Safe)
          .attr('opacity', 0.5) // New Opacity
          .attr('width', 100) // New Width
          .attr('height', 100) // New Height
          .attr('x', 250)
          .delay(100); // New Position
      });

      d3.select('#reset4').on('click', function () {
        rectangle
          .transition()
          .attr('fill', 'black') // New Color (Hex, RGB, or Web Safe)
          .attr('opacity', 1) // New Opacity
          .attr('width', 50) // New Width
          .attr('height', 50) // New Height
          .attr('x', 50);
      });

      d3.select('#start5').on('click', function () {
        rectangle
          .transition()
          .attr('x', 250) // New Position
          .duration(2500); // Set Duration of 2500ms (2.5 seconds)
      });
      d3.select('#reset5').on('click', function () {
        rectangle
          .transition()
          .attr('x', 50) // New Position
          .duration(2500); // Set Duration of 2500ms (2.5 seconds)
      });
      d3.select('#start6').on('click', function () {
        rectangle
          .transition()
          .attr('x', 250) // New Position
          .ease(d3.easeBounce); // Use the Bounce Transition Ease
      });
      d3.select('#reset6').on('click', function () {
        rectangle
          .transition()
          .attr('x', 50) // New Position
          .ease(d3.easeBounce); // Use the Bounce Transition Ease
      });
      d3.select('#start7').on('click', function () {
        rectangle
          .transition()
          .attr('x', 250)
          .attr('width', 100)
          .attr('height', 100)
          .attr('opacity', 0.5)
          .attr('fill', 'red')
          .delay(500)
          .duration(2500)
          .ease(d3.easeBounce)
          .on('end', function () {
            // on end of transition...
            d3.select(this)
              .transition()
              .attr('x', 150)
              .attr('width', 75)
              .attr('height', 75)
              .attr('opacity', 0.75)
              .attr('fill', 'blue')
              .delay(500)
              .duration(2500)
              .ease(d3.easeBounce);
          });
      });
      d3.select('#reset7').on('click', function () {
        rectangle.transition().attr('x', 50).attr('y', 50); // New Position
      });
    </script>
  </body>
</html>
